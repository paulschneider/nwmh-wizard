!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(2),s=o(i);window.NWMH_Wizard=function(e){var t=new s.default(e.postcodes,e.externals);t.init()}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(3),a=o(r),u=n(5),c=function(){function e(t,n){i(this,e),this.routes=new a.default,this.postcodes=t,this.decisions=u.Decisions,this.externals=n,this.selectedAge=null,this.pages=[]}return s(e,[{key:"init",value:function(){this._setNav(),this._setBacks(),this._setAgeSelect(),this._setPostcodeEntry(),this._setExternalLinks(),this.pages.push("index")}},{key:"next",value:function(e){var t=this.routes.get(e);this._hideAll(),this._show(t),this.pages.push(t)}},{key:"previous",value:function(e){e.preventDefault(),this.pages.pop();var t=this.pages.slice(-1);this._hideAll(),this._show(t)}},{key:"_show",value:function(e){document.querySelector("#"+e).classList.add("active")}},{key:"_hideAll",value:function(){for(var e=document.getElementsByClassName("page"),t=0;t<e.length;t++)e[t].classList.remove("active")}},{key:"_setBacks",value:function(){for(var e=this,t=document.getElementsByClassName("back-btn"),n=0;n<t.length;n++)t[n].addEventListener("click",function(t){e.previous(t)})}},{key:"_setNav",value:function(){for(var e=this,t=document.getElementsByClassName("wizard-nav"),n=0;n<t.length;n++)t[n].addEventListener("click",function(t){t.preventDefault();var n=t.target.hash.substr(1);e.next(n)})}},{key:"_setAgeSelect",value:function(){for(var e=this,t=document.getElementsByClassName("age-select"),n=0;n<t.length;n++)t[n].addEventListener("click",function(t){t.preventDefault();var n=t.target.getAttribute("age");e._setAge(n)})}},{key:"_setAge",value:function(e){return this.selectedAge=e,this._isMinor(e)?this.next("minors"):this.next("postcode")}},{key:"_isMinor",value:function(e){return"minors"===e}},{key:"_setPostcodeEntry",value:function(){var e=this;document.querySelector(".postcode-btn").addEventListener("click",function(t){t.preventDefault(),e._postcodeAdded()})}},{key:"_postcodeAdded",value:function(){var e=document.getElementById("postcode-field").value;if(null===this.selectedAge)return this.next("urgent-contact");var t=this._makeDetermination(e);this._makeDecision("postcode",t,this.selectedAge)}},{key:"_makeDetermination",value:function(e){var t=this.postcodes[this.selectedAge];return t.includes(parseInt(e))?"included":"excluded"}},{key:"_makeDecision",value:function(){for(var e=this.decisions,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];n.forEach(function(t){e=e[t]}),this.next(e)}},{key:"_setExternalLinks",value:function(){var e=this,t=document.getElementsByClassName("external");Array.from(t).forEach(function(t){t.addEventListener("click",function(t){e._goExternal(t.target.getAttribute("route"),t)})})}},{key:"_goExternal",value:function(e,t){for(var n in this.externals)n===e&&(t.preventDefault(),window.location=this.externals[n])}}]),e}();t.default=c},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(4),r=function(){function e(){o(this,e),this.routes=s.Routes}return i(e,[{key:"get",value:function(e){for(var t in this.routes)if(t===e)return this.routes[t]}}]),e}();t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Routes=Object.freeze({"":"index",home:"index","medical-attention":"m-attention","further-information":"f-info","professional-help":"pro-help","urgent-contact":"urgent-contact","service-usage":"service-use",postcode:"postcode-entry",youth:"youth",adult:"adult",minors:"minors",senior:"senior","alt-youth":"alt-youth","alt-adult":"alt-adult","alt-senior":"alt-senior"})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Decisions=Object.freeze({age:{minors:"minors",youth:"postcode-entry",adult:"postcode-entry",senior:"postcode-entry"},postcode:{included:{youth:"youth",adult:"adult",senior:"senior"},excluded:{youth:"alt-youth",adult:"alt-adult",senior:"alt-senior"}}})}]);