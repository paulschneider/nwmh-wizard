!function(e){function t(s){if(n[s])return n[s].exports;var i=n[s]={exports:{},id:s,loaded:!1};return e[s].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var i=n(1),o=s(i);(new o.default).init()},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=n(2),a=s(r),u=n(4),c=n(5),l=n(6),d=function(){function e(){i(this,e),this.routes=new a.default,this.postcodes=u.Postcodes,this.decisions=c.Decisions,this.externals=l.Externals,this.selectedAge=null,this.pages=[]}return o(e,[{key:"init",value:function(){this._setNav(),this._setBacks(),this._setAgeSelect(),this._setPostcodeEntry(),this._setExternalLinks(),this.pages.push("index")}},{key:"next",value:function(e){var t=this.routes.get(e);this._hideAll(),this._show(t),this.pages.push(t)}},{key:"previous",value:function(e){e.preventDefault(),this.pages.pop();var t=this.pages.slice(-1);this._hideAll(),this._show(t)}},{key:"_show",value:function(e){document.querySelector("#"+e).classList.add("active")}},{key:"_hideAll",value:function(){for(var e=document.getElementsByClassName("page"),t=0;t<e.length;t++)e[t].classList.remove("active")}},{key:"_setBacks",value:function(){for(var e=this,t=document.getElementsByClassName("back-btn"),n=0;n<t.length;n++)t[n].addEventListener("click",function(t){e.previous(t)})}},{key:"_setNav",value:function(){for(var e=this,t=document.getElementsByClassName("nav"),n=0;n<t.length;n++)t[n].addEventListener("click",function(t){t.preventDefault();var n=t.target.hash.substr(1);e.next(n)})}},{key:"_setAgeSelect",value:function(){for(var e=this,t=document.getElementsByClassName("age-select"),n=0;n<t.length;n++)t[n].addEventListener("click",function(t){t.preventDefault();var n=t.target.dataset.age;e._setAge(n)})}},{key:"_setAge",value:function(e){return this.selectedAge=e,this._isMinor(e)?this.next("minors"):this.next("postcode")}},{key:"_isMinor",value:function(e){return"under_15"===e}},{key:"_setPostcodeEntry",value:function(){var e=this;document.querySelector(".postcode-btn").addEventListener("click",function(t){t.preventDefault(),e._postcodeAdded()})}},{key:"_postcodeAdded",value:function(){var e=document.getElementById("postcode-field").value;if(null===this.selectedAge)return this.next("urgent-contact");var t=this._makeDetermination(e);this._makeDecision("postcode",t,this.selectedAge)}},{key:"_makeDetermination",value:function(e){var t=this.postcodes[this.selectedAge];return t.includes(parseInt(e))?"included":"excluded"}},{key:"_makeDecision",value:function(){for(var e=this.decisions,t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];n.forEach(function(t){e=e[t]}),this.next(e)}},{key:"_setExternalLinks",value:function(){var e=this;document.querySelector(".external").addEventListener("click",function(t){t.preventDefault(),e._goExternal(t.target.dataset.route)})}},{key:"_goExternal",value:function(e){for(var t in this.externals)t===e&&(window.location=this.externals[t])}}]),e}();t.default=d},function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),o=n(3),r=function(){function e(){s(this,e),this.routes=o.Routes}return i(e,[{key:"get",value:function(e){for(var t in this.routes)if(t===e)return this.routes[t]}}]),e}();t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Routes=Object.freeze({"":"index",home:"index","medical-attention":"m-attention","further-information":"f-info","professional-help":"pro-help","urgent-contact":"urgent-contact","service-usage":"service-use",postcode:"postcode-entry","similar-youth-organisations":"similar-youth-organisations","similar-adult-organisations":"similar-adult-organisations",youth:"youth",adult:"adult",minors:"minors"})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Postcodes=Object.freeze({under_24:[3002,8002,3e3,3004,3001,8001,3045,3052,5005],over_24:[5006,3051,3207,3050,3205,3004,3001,3003]})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Decisions=Object.freeze({age:{under_15:"minors",under_24:"postcode-entry",over_24:"postcode-entry"},postcode:{included:{under_24:"youth",over_24:"adult"},excluded:{under_24:"similar-youth-organisations",over_24:"similar-adult-organisations"}}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Externals=Object.freeze({young:"/home",adult:"/home",senior:"/home","what-to-expect":"/home","speciality-services":"/home","support-for-families":"/home"})}]);